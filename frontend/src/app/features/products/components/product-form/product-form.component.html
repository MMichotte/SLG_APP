<form class="form" [formGroup]="productForm" (ngSubmit)="submitForm()">

  <div class="p-grid p-fluid">
    <div class="p-col-2">
      <label for="reference">Reference</label>
      <input id="reference" type="text" pInputText formControlName="reference">
    </div>

    <div class="p-col-5">
      <label for="label">Label</label>
      <input id="label" type="text" pInputText formControlName="label">
    </div>
  </div>

  <div class="p-grid p-fluid">
    <div class="p-col-2">
      <label for="totalQuantity">Total quantity</label>
      <p-inputNumber id="totalQuantity" [showButtons]="true" formControlName="quantity"
        (onInput)="calcAvailableQuant()" (keyup)="calcAvailableQuant()"></p-inputNumber>
    </div>

    <div class="p-col-2">
      <label for="availableQuantity">Available quantity</label>
      <p-inputNumber id="availableQuantity" [showButtons]="false" formControlName="availableQuantity"></p-inputNumber>
    </div>

    <div class="p-col-2">
      <label for="reservedQuantity">Reserved quantity</label>
      <p-inputNumber id="reservedQuantity" [showButtons]="false" formControlName="reservedQuantity"></p-inputNumber>
    </div>

  </div>

  <div class="p-grid p-fluid">
    <div class="p-col-2">
      <label for="purchasePriceHT">Purchase price (HT)</label>
      <p-inputNumber id="purchasePriceHT" mode="currency" currency="EUR" locale="be-BE"
        formControlName="purchasePriceHT" min="0" (focus)="$event.target.select()"
        (keyup)="onPurchasePriceInput($event.target.value)"></p-inputNumber>
    </div>

    <div class="p-col-2">
      <label for="salePriceHT">Sale price (HT)</label>
      <p-inputNumber id="salePriceHT" mode="currency" currency="EUR" locale="be-BE" formControlName="salePriceHT"
        min="0" (focus)="$event.target.select()" (keyup)="onSalePriceInput($event.target.value)"></p-inputNumber>
    </div>

    <div class="p-col-2">
      <label for="salePriceTTC">Sale price (TTC)</label>
      <p-inputNumber id="salePriceTTC" mode="currency" currency="EUR" locale="be-BE" formControlName="salePriceTTC"
        min="0" (focus)="$event.target.select()"></p-inputNumber>
    </div>

    <div class="p-col-2">
      <label for="margin">Margin</label>
      <p-inputNumber id="margin" mode="currency" currency="EUR" locale="be-BE" formControlName="margin"
        (click)="$event.target.select()" (keyup)="onMarginInput($event.target.value)"></p-inputNumber>
    </div>
    
  </div>


  <div class="p-grid p-fluid">
    <div class="p-col-6">
      <label for="note">Note</label>
      <textarea id="note" pInputTextarea [rows]="3" formControlName="note"></textarea>
    </div>
  </div>



  <footer class="p-grid">
    <button pButton pRipple type="button" label="Cancel" class="p-button-secondary p-col-1" (click)="onCancel()"
      *ngIf="!isUpdate"></button>
    <button pButton pRipple type="submit" icon="pi pi-save" label="Save" class="p-col-1"
      [disabled]="productForm.invalid || !currentProduct"></button>
    <button pButton pRipple type="button" icon="pi pi-trash" class="p-button-danger p-col-1" *ngIf="currentProduct"
      (click)="deleteProduct()"></button>
  </footer>
</form>